<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="qr-container">
            <p>Loading...</p>
        </div>
        <div class="qr-code"> 
            <img id="qr-image" src="https://i.ibb.co/JFjSYJTy/photo-2025-02-22-09-43-14-7474176881059692560.jpg" alt="UPI QR Code">
            <a id="download-link" href="https://i.ibb.co/JFjSYJTy/photo-2025-02-22-09-43-14-7474176881059692560.jpg" download>
                <img src="assets/download-icon.png" class="download-icon" alt="Download Icon">
            </a>
        </div>
        <div class="payment-info">
            <p id="qr-text">Scan the QR code or use the UPI ID:</p>
            <div class="upi-id-content">
                <strong id="payment-id">TechifyBots@UPI</strong>
                <button id="payment-button" class="copy-button">Copy</button>
                <lottie-player 
                    id="upi-animation"
                    src="https://lottie.host/2b51d7af-7099-49f5-93df-f8190dde11bb/WU9eejAueC.json"
                    background="#FFFFFF"
                    speed="1.5"
                    loop
                    autoplay
                    direction="1"
                    mode="normal" 
                    class="upi-icon"
                ></lottie-player>
            </div>
        </div>
        <!-- Toggle between UPI and PayPal -->
        <a id="toggle-link" href="#" class="toggle-payment">Donate via PayPal? Click Here</a>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const toggleLink = document.getElementById("toggle-link");
            const qrImage = document.getElementById("qr-image");
            const paymentId = document.getElementById("payment-id");
            const paymentButton = document.getElementById("payment-button");
            const upiAnimation = document.getElementById("upi-animation");
            const qrText = document.getElementById("qr-text");
            const loadingContainer = document.querySelector(".loading-container");
            const downloadLink = document.getElementById("download-link");

            let isUpi = true;

            function switchToPayPal() {
                loadingContainer.style.display = "block";
                qrImage.style.display = "none";

                qrImage.onload = function() {
                    loadingContainer.style.display = "none";
                    qrImage.style.display = "block";
                };

                qrImage.src = "https://i.ibb.co/VYfqzmTy/photo-2025-02-22-09-43-38-7474176919714398224.jpg";
                paymentId.textContent = "TechifyBots";
                paymentButton.textContent = "Open PayPal";
                paymentButton.removeEventListener("click", copyUpiId);
                paymentButton.addEventListener("click", openPayPalLink);
                toggleLink.textContent = "Donate via UPI? Click Here";
                upiAnimation.style.display = "none";
                qrText.textContent = "Scan with any QR scanning app or use the button";
                downloadLink.href = "https://i.ibb.co/VYfqzmTy/photo-2025-02-22-09-43-38-7474176919714398224.jpg"; // Update download link to PayPal QR code
                isUpi = false;
            }

            function switchToUpi() {
                qrImage.style.display = "none";
                loadingContainer.style.display = "none";

                qrImage.onload = function() {
                    qrImage.style.display = "block";
                };

                qrImage.src = "https://i.ibb.co/JFjSYJTy/photo-2025-02-22-09-43-14-7474176881059692560.jpg";
                paymentId.textContent = "TechifyBots@UPI";
                paymentButton.textContent = "Copy";
                paymentButton.removeEventListener("click", openPayPalLink);
                paymentButton.addEventListener("click", copyUpiId);
                toggleLink.textContent = "Donate via PayPal? Click Here";
                upiAnimation.style.display = "block";
                qrText.textContent = "Scan the QR code or use the UPI ID:";
                downloadLink.href = "https://i.ibb.co/JFjSYJTy/photo-2025-02-22-09-43-14-7474176881059692560.jpg"; // Update download link to UPI QR code
                isUpi = true;
            }

            function copyUpiId() {
                const upiId = paymentId.textContent;
                navigator.clipboard.writeText(upiId).then(() => {
                    alert('UPI ID copied to clipboard!');
                });
            }

            function openPayPalLink() {
                window.open('https://www.paypal.com/paypalme/TechifyBots', '_blank');
            }

            toggleLink.addEventListener("click", function (event) {
                event.preventDefault();
                if (isUpi) {
                    switchToPayPal();
                } else {
                    switchToUpi();
                }
            });

            paymentButton.addEventListener("click", copyUpiId);
        });
    </script>
</body>
</html>
